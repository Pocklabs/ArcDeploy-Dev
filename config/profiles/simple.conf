# ArcDeploy Simple Profile Configuration
# This profile provides main branch compatibility with minimal configuration options
# Suitable for: Quick deployments, new users, simple setups

# ============================================================================
# Profile Metadata
# ============================================================================
PROFILE_NAME="simple"
PROFILE_VERSION="1.0.0"
PROFILE_DESCRIPTION="Simple deployment profile for quick setup"
PROFILE_TARGET_BRANCH="main"

# ============================================================================
# Core Settings (Essential)
# ============================================================================

# User account settings
USER_NAME="arcblock"
USER_GROUP="arcblock"
USER_HOME="/home/arcblock"

# Network configuration
SSH_PORT="2222"
BLOCKLET_HTTP_PORT="8080"
BLOCKLET_HTTPS_PORT="8443"

# Installation paths
BLOCKLET_BASE_DIR="/opt/blocklet-server"
NODE_HOME="/opt/node"

# ============================================================================
# Feature Flags (Simple Profile)
# ============================================================================

# Core features (always enabled)
ENABLE_SSH_HARDENING="true"
ENABLE_BASIC_FIREWALL="true"
ENABLE_FAIL2BAN="true"
ENABLE_AUTO_UPDATES="true"

# Advanced features (disabled for simplicity)
ENABLE_MULTI_CLOUD="false"
ENABLE_ADVANCED_TESTING="false"
ENABLE_PERFORMANCE_MONITORING="false"
ENABLE_CUSTOM_TEMPLATES="false"
ENABLE_ADVANCED_LOGGING="false"
ENABLE_DEBUG_MODE="false"

# Optional features (simple defaults)
ENABLE_SSL="false"
ENABLE_NGINX_PROXY="true"
ENABLE_HEALTH_CHECKS="true"

# ============================================================================
# Security Settings (Basic)
# ============================================================================

# SSH security (essential only)
ENABLE_PASSWORD_AUTH="false"
SSH_MAX_AUTH_TRIES="3"
SSH_LOGIN_GRACE_TIME="60"
SSH_PERMIT_ROOT_LOGIN="no"

# Firewall (basic rules only)
UFW_DEFAULT_POLICY="deny"
UFW_LOGGING="on"

# Fail2ban (basic configuration)
FAIL2BAN_BANTIME="3600"
FAIL2BAN_FINDTIME="600"
FAIL2BAN_MAXRETRY="3"

# ============================================================================
# Performance Settings (Conservative)
# ============================================================================

# Resource limits (conservative for compatibility)
NODE_MAX_MEMORY="2048"
NODE_MAX_OLD_SPACE_SIZE="1536"
BLOCKLET_WORKER_PROCESSES="auto"

# Timeouts (standard values)
HTTP_TIMEOUT="30"
CONNECTION_TIMEOUT="60"
SERVICE_START_TIMEOUT="300"

# ============================================================================
# Logging Settings (Basic)
# ============================================================================

# Log levels (essential only)
LOG_LEVEL="info"
ENABLE_DEBUG_LOGS="false"
ENABLE_ACCESS_LOGS="true"
ENABLE_ERROR_LOGS="true"

# Log rotation (basic)
LOG_MAX_SIZE="100M"
LOG_RETENTION_DAYS="7"
LOG_COMPRESS="true"

# ============================================================================
# Cloud Provider Settings (Single Provider)
# ============================================================================

# Default to Hetzner (most common in simple setups)
DEFAULT_CLOUD_PROVIDER="hetzner"
CLOUD_PROVIDER_REGION=""
CLOUD_PROVIDER_INSTANCE_TYPE=""

# Multi-cloud disabled
ENABLE_AWS_SPECIFIC="false"
ENABLE_GCP_SPECIFIC="false"
ENABLE_AZURE_SPECIFIC="false"
ENABLE_DO_SPECIFIC="false"

# ============================================================================
# Deployment Settings (Simple)
# ============================================================================

# Installation method (direct, no containers)
INSTALL_METHOD="native"
ENABLE_CONTAINER_SUPPORT="false"

# Package management (standard)
PACKAGE_MANAGER="apt"
ENABLE_SNAP_PACKAGES="false"
ENABLE_FLATPAK_PACKAGES="false"

# Update strategy (automatic security updates only)
AUTO_UPDATE_SECURITY="true"
AUTO_UPDATE_ALL="false"
UPDATE_REBOOT_REQUIRED="false"

# ============================================================================
# Monitoring Settings (Basic)
# ============================================================================

# Basic health checks only
ENABLE_SYSTEM_MONITORING="true"
ENABLE_SERVICE_MONITORING="true"
ENABLE_PERFORMANCE_MONITORING="false"
ENABLE_CUSTOM_METRICS="false"

# Health check intervals (conservative)
HEALTH_CHECK_INTERVAL="300"
SERVICE_CHECK_INTERVAL="60"
DISK_CHECK_THRESHOLD="90"
MEMORY_CHECK_THRESHOLD="90"

# ============================================================================
# Backup Settings (Minimal)
# ============================================================================

# Basic backup configuration
ENABLE_AUTOMATIC_BACKUP="false"
BACKUP_RETENTION_DAYS="3"
BACKUP_LOCATION="/var/backups/arcdeploy"

# ============================================================================
# Development Settings (Disabled)
# ============================================================================

# Development features disabled in simple profile
ENABLE_DEVELOPMENT_MODE="false"
ENABLE_HOT_RELOAD="false"
ENABLE_SOURCE_MAPS="false"
ENABLE_PROFILING="false"

# Testing features disabled
ENABLE_UNIT_TESTS="false"
ENABLE_INTEGRATION_TESTS="false"
ENABLE_PERFORMANCE_TESTS="false"

# ============================================================================
# Validation Rules (Simple)
# ============================================================================

# Required fields for simple profile
REQUIRED_VARS="USER_NAME SSH_PORT BLOCKLET_HTTP_PORT BLOCKLET_BASE_DIR"

# Optional fields (will use defaults if not set)
OPTIONAL_VARS="SSH_PUBLIC_KEY DOMAIN_NAME EMAIL_ADDRESS"

# Validation rules
VALIDATE_SSH_PORT_RANGE="1024-65535"
VALIDATE_USER_NAME_PATTERN="^[a-z][a-z0-9-]*$"
VALIDATE_PORT_AVAILABILITY="true"

# ============================================================================
# Compatibility Settings
# ============================================================================

# Main branch compatibility
MAIN_BRANCH_COMPAT="true"
LEGACY_SCRIPT_SUPPORT="true"
DEPRECATED_FUNCTION_WARNINGS="false"

# Version compatibility
MIN_BASH_VERSION="4.0"
MIN_UBUNTU_VERSION="20.04"
MIN_NODE_VERSION="16.0"

# ============================================================================
# Error Handling (Simple)
# ============================================================================

# Error handling behavior
FAIL_ON_WARNINGS="false"
CONTINUE_ON_NON_CRITICAL_ERRORS="true"
AUTO_RETRY_FAILED_COMMANDS="true"
MAX_RETRY_ATTEMPTS="3"

# Recovery options
ENABLE_AUTO_RECOVERY="true"
ENABLE_ROLLBACK_ON_FAILURE="false"
ENABLE_MANUAL_RECOVERY_PROMPTS="true"

# ============================================================================
# Output Settings
# ============================================================================

# Output formatting (simple, clear)
OUTPUT_FORMAT="simple"
ENABLE_COLOR_OUTPUT="true"
ENABLE_PROGRESS_BARS="true"
ENABLE_VERBOSE_OUTPUT="false"

# Status reporting
SHOW_TIMESTAMPS="false"
SHOW_STEP_NUMBERS="true"
SHOW_ESTIMATED_TIME="false"

# ============================================================================
# Profile Notes
# ============================================================================

# This simple profile is designed for:
# - New users who want quick deployment
# - Production environments with basic requirements
# - Situations where minimal configuration is preferred
# - Compatibility with main branch workflows
#
# For advanced features, consider upgrading to the 'advanced' profile
# or switching to the dev-deployment branch.
#
# To upgrade this profile:
#   1. Switch to dev-deployment branch
#   2. Copy this configuration to advanced.conf
#   3. Enable desired advanced features
#   4. Run comprehensive testing