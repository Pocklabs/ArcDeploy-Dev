# ArcDeploy Test Configuration
# Simple configuration for unit testing

# Project Information
PROJECT_NAME="ArcDeploy"
PROJECT_VERSION="4.0.5"
DEPLOYMENT_TYPE="native"

# User Configuration
USER_NAME="arcblock"
USER_HOME="/home/arcblock"
USER_GROUPS="users,admin,sudo"

# Directory Configuration
BLOCKLET_BASE_DIR="/opt/blocklet-server"
BLOCKLET_DATA_DIR="/opt/blocklet-server/data"
BLOCKLET_CONFIG_DIR="/opt/blocklet-server/config"
BLOCKLET_LOGS_DIR="/opt/blocklet-server/logs"
BLOCKLET_BIN_DIR="/opt/blocklet-server/bin"

# Log Files (test-friendly paths)
SETUP_LOG="/tmp/arcblock-test-setup.log"
HEALTH_LOG="/tmp/arcblock-test-health.log"

# Network Configuration
SSH_PORT="2222"
SSH_MAX_AUTH_TRIES="3"
SSH_MAX_SESSIONS="10"
SSH_CLIENT_ALIVE_INTERVAL="300"
SSH_CLIENT_ALIVE_COUNT_MAX="2"
SSH_LOGIN_GRACE_TIME="60"

# Blocklet Server Ports
BLOCKLET_HTTP_PORT="8080"
BLOCKLET_HTTPS_PORT="8443"
BLOCKLET_HOST="0.0.0.0"

# Nginx Proxy Ports
NGINX_HTTP_PORT="80"
NGINX_HTTPS_PORT="443"

# Redis Configuration
REDIS_PORT="6379"
REDIS_HOST="127.0.0.1"

# Security Configuration
FAIL2BAN_BANTIME="3600"
FAIL2BAN_FINDTIME="600"
FAIL2BAN_MAXRETRY="5"
FAIL2BAN_SSH_MAXRETRY="5"
FAIL2BAN_HTTP_MAXRETRY="6"

# UFW Firewall Ports
UFW_ALLOWED_PORTS="$SSH_PORT $BLOCKLET_HTTP_PORT $BLOCKLET_HTTPS_PORT $NGINX_HTTP_PORT $NGINX_HTTPS_PORT"

# System Security
DISABLE_ROOT_LOGIN="yes"
DISABLE_PASSWORD_AUTH="yes"
ENABLE_KEY_AUTH="yes"

# Resource Limits
NOFILE_SOFT_LIMIT="65536"
NOFILE_HARD_LIMIT="65536"
NPROC_SOFT_LIMIT="32768"
NPROC_HARD_LIMIT="32768"

# Network Tuning
NET_CORE_RMEM_MAX="134217728"
NET_CORE_WMEM_MAX="134217728"
NET_CORE_NETDEV_MAX_BACKLOG="5000"

# Software Versions
NODEJS_VERSION="lts"
NODEJS_REPO_URL="https://deb.nodesource.com/setup_lts.x"
BLOCKLET_CLI_PACKAGE="@blocklet/cli"
BLOCKLET_CLI_VERSION="latest"

# Health Check Settings
HEALTH_CHECK_INTERVAL="5"
HEALTH_CHECK_MAX_ATTEMPTS="12"
HEALTH_CHECK_SLEEP_INTERVAL="10"
HEALTH_CHECK_TIMEOUT="10"

# Resource Monitoring Thresholds
DISK_USAGE_WARNING_THRESHOLD="85"
MEMORY_USAGE_WARNING_THRESHOLD="85"

# Service Restart Settings
SERVICE_RESTART_DELAY="10"
SERVICE_MAX_RESTART_ATTEMPTS="3"

# Deployment Settings
CLOUD_INIT_TIMEOUT="600"
PACKAGE_UPDATE="true"
PACKAGE_UPGRADE="true"
PACKAGE_REBOOT_IF_REQUIRED="false"

# Installation Timeouts
NODE_INSTALL_TIMEOUT="300"
BLOCKLET_INSTALL_TIMEOUT="300"
SERVICE_START_TIMEOUT="120"

# Environment Variables
NODE_ENV="production"
BLOCKLET_LOG_LEVEL="info"
BLOCKLET_DATA_DIR_ENV="$BLOCKLET_DATA_DIR"
BLOCKLET_CONFIG_DIR_ENV="$BLOCKLET_CONFIG_DIR"

# Feature Flags
ENABLE_NGINX_PROXY="true"
ENABLE_REDIS_BACKEND="true"
ENABLE_FAIL2BAN="true"
ENABLE_UFW_FIREWALL="true"
ENABLE_HEALTH_MONITORING="true"
ENABLE_AUTO_UPDATES="true"
ENABLE_SSH_HARDENING="true"

# SSL/TLS Configuration
ENABLE_SSL="false"
SSL_PROVIDER="letsencrypt"
SSL_EMAIL=""

# Development Settings
DEBUG_MODE="false"
VERBOSE_LOGGING="false"
KEEP_TEMP_FILES="false"

# Testing Configuration
ENABLE_VALIDATION="true"
ENABLE_HEALTH_CHECKS="true"
SKIP_SERVICE_RESTART="false"

# System Requirements
MIN_RAM_GB="4"
MIN_DISK_GB="40"
MIN_CPU_CORES="2"
REC_RAM_GB="8"
REC_DISK_GB="80"
REC_CPU_CORES="4"

# Network Requirements
REQUIRED_BANDWIDTH_MBPS="10"
RECOMMENDED_BANDWIDTH_MBPS="100"